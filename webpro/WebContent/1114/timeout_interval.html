<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
<link rel="stylesheet" href="../css/public.css">
<style>
div{
	height : auto;
}
.result{
	height : 100px;
}
</style>
<script>
function outpro(){
	// id=result1요소를 검색
	res1 = document.getElementById('result1');
	
	// 스타일을 이용하여 배경색을 변경한다
	res1.style.background='red';
	
}
proc1 =() =>{
	setTimeout(outpro(),1000);
	
// 	setTimeout(()=>{
// 	// id=result1요소를 검색
// 	res1 = document.getElementById('result1');
// 	// 스타일을 이용하여 배경색을 변경한다
// 	res1.style.background='red';
// 	},1000)
	
	 
 }

proc2 =(but) =>{
	// but변수는 호출시에 this를 받은 매개변수, 파라미터변수, 지역변수
	// 클릭한 확인 버튼(this, but)을 보이지 않게 또는 사용 불가능하도록 설정(반복실행 방지)
	but.style.display = "none";
	
	// but를 전역변수로 변경을 해서 stop()함수에서도 사용 가능한 변수로 만든다.
	globut = but;	// but는 지역변수지만 globut를 선언했기에 전역변수가 됨.
	
	
	res2 = document.getElementById('result2');// main을 하면 전체 배경색 바뀜
	
	idx = setInterval(() => {
		
		console.log(idx);
		
		cr = parseInt(Math.random()*256);
		cg = parseInt(Math.random()*256);
		cb = parseInt(Math.random()*256);
		
// 		res2.style.background=`rgb(${cr},${cg},${cb})`;

		// 10진수를 16진수로 변환
		cr16 = cr.toString(16);
		cg16 = cg.toString(16);
		cb16 = cb.toString(16);
	
		res2.style.background=`#${cr16}${cg16}${cb16}`;
		
	},500);	// 0.5초마다 한번씩 
	
}

stop =() =>{
	//setInterval멈추기
	clearInterval(idx);
	
	// 확인버튼을 보여지게 한다. block로 하면 줄바뀜
	globut.style.display="inline";
}
</script>
</head>
<body id="main">

<div>
   setTimeout(function(){}, millisec)<br>
   <br>
   <input type="button" value= "확인" onclick="proc1()">
   <br>
   <br>
<div id = "result1" class = "result"></div>
</div>

<div>
   setInterval(function(){}, millisec)<br>
   <br>
   <input type="button" value= "확인" onclick="proc2(this)">
   <input type="button" value= "종료" onclick="stop()">
   <br>
   <br>
<div id = "result2" class = "result"></div>
</div>
</body>
</html>